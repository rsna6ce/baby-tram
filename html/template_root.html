  <!DOCTYPE html>
  <html lang='en'>
  <head>
    <meta charset='utf-8'>
    <title>baby-tram</title>
    <style>
      .center{ width:480px; margin: 0 auto; }
      progress{ width:125px; height:30px;}
      button {width:60px; height:30px;
      border:none; color:#FFF;
      background:#0d6efd; border-radius:5px;}
      p{height:2em; margin-block-start:0px; margin-block-end:0px;}
    </style>
  </head>
  <body>
    <div class='center'>
      <h2>baby tram</h2>
      <p><nobr>
        <button type='button' onclick=set_value('run',1)> <b>RUN</b> </button>
        <button type='button' onclick=set_value('run',0)> <b>STOP</b> </button>
      </nobr></p>
      <b><font size='5'><a id='run'> STOP </a></font></b>

      <hr>

      <p><nobr>
        <button type='button' onclick=set_value('power',-5)> <b>－</b> </button>
        <button type='button' onclick=set_value('power',5)>  <b>＋</b> </button>
      </nobr></p>
      <b><font size='5'><a id='power_value'> POW:0% </a></font></b>
      <p>
        <progress id='power_progress' value='0' min='0' max='100'>0</progress>
      </p>
  </div>
  </body>
  <script language='javascript' type='text/javascript'>
  function set_value(item, value) {
    var request = new XMLHttpRequest();
    request.open('GET', '/api?item=' + item + '&value=' + value , true);
    request.responseType = 'json';
    request.onload = function () {
            let data = this.response;
            let result = data.result;
            let item = data.item;
            let value = data.value;
            if (result!='OK') {
                alert('ERROR');
            } else if (item=='run') {
                document.getElementById('run').textContent = value;
            } else if (item=='power') {
                document.getElementById('power_progress').value = value;
                document.getElementById('power_value').textContent = 'POW:' + value + '%';
            }
        };
    request.onerror = function () {
      alert('ERROR');
    };
    request.send();
  }
  </script>
